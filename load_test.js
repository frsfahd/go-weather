// Generated by k6 Studio (0.6.0) on 2024-11-10T09:41:16.173Z

import { group, sleep, check } from 'k6';
import http from 'k6/http';

export const options = {
  scenarios: {
    constant_request_rate: {
      executor: 'constant-arrival-rate',
      duration: '20s', // total duration
      preAllocatedVUs: 20,
      rate: 25, // number of constant iterations given `timeUnit`
      timeUnit: '1s',
      maxVUs: 40,
    },
  },
  executor: 'constant-arrival-rate',
};

export default function () {
  let params;
  let resp;
  let match;
  let regex;
  let url;
  const correlation_vars = {};

  group('Default group', function () {
    params = {
      headers: {
        'sec-ch-ua': `"Chromium";v="130", "Google Chrome";v="130", "Not?A_Brand";v="99"`,
        'sec-ch-ua-mobile': `?0`,
        'sec-ch-ua-platform': `"Windows"`,
        'upgrade-insecure-requests': `1`,
        'user-agent': `Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36`,
        accept: `text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7`,
        'sec-fetch-site': `none`,
        'sec-fetch-mode': `navigate`,
        'sec-fetch-user': `?1`,
        'sec-fetch-dest': `document`,
        'accept-encoding': `gzip, deflate, br, zstd`,
        'accept-language': `en-US,en;q=0.9`,
        priority: `u=0, i`,
      },
      cookies: {},
    };

    url = http.url`https://go-weather.fly.biz.id/today/bandung`;
    resp = http.request('GET', url, null, params);

    check(resp, {
      'status matches 200': (r) => r.status === 200,
    });

    params = {
      headers: {
        'sec-ch-ua': `"Chromium";v="130", "Google Chrome";v="130", "Not?A_Brand";v="99"`,
        'sec-ch-ua-mobile': `?0`,
        'sec-ch-ua-platform': `"Windows"`,
        'upgrade-insecure-requests': `1`,
        'user-agent': `Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36`,
        accept: `text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7`,
        'sec-fetch-site': `none`,
        'sec-fetch-mode': `navigate`,
        'sec-fetch-user': `?1`,
        'sec-fetch-dest': `document`,
        'accept-encoding': `gzip, deflate, br, zstd`,
        'accept-language': `en-US,en;q=0.9`,
        priority: `u=0, i`,
      },
      cookies: {},
    };

    url = http.url`https://go-weather.fly.biz.id/oneWeek/bandung`;
    resp = http.request('GET', url, null, params);

    check(resp, {
      'status matches 200': (r) => r.status === 200,
    });
  });
  sleep(1);
}
